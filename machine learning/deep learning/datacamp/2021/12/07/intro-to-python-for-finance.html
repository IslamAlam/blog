<h1 id="intro-to-python-for-finance">Intro to Python for Finance</h1>

<p>This is a memo. This course does not have a track yet.</p>

<p>**A introduction course for those who have no experience in Python.</p>

<p>You can find the original course
 <a href="https://www.datacamp.com/courses/intro-to-python-for-finance">HERE</a>**
 .</p>

<hr />

<h1 id="1-basic-of-python"><strong>1. Basic of Python</strong></h1>
<hr />

<p>Nothing special here.</p>

<hr />

<h1 id="2-lists"><strong>2. Lists</strong></h1>
<hr />

<p>####
<strong>sort() &amp; max()</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># list sort
</span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">159.54</span><span class="p">,</span> <span class="mf">37.13</span><span class="p">,</span> <span class="mf">71.17</span><span class="p">]</span>
<span class="n">prices</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
<span class="c1"># [37.13, 71.17, 159.54]
</span>
<span class="c1"># max value of a list
</span><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">159.54</span><span class="p">,</span> <span class="mf">37.13</span><span class="p">,</span> <span class="mf">71.17</span><span class="p">]</span>
<span class="n">price_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">price_max</span><span class="p">)</span>
<span class="c1"># 159.54
</span>
</code></pre></div></div>

<p>####
<strong>append() &amp; extend()</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Append a name to the list names
</span><span class="n">names</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'Amazon.com'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>

<span class="c1"># Extend list names
</span><span class="n">more_elements</span> <span class="o">=</span> <span class="p">[</span><span class="s">'DowDuPont'</span><span class="p">,</span> <span class="s">'Alphabet Inc'</span><span class="p">]</span>
<span class="n">names</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">more_elements</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>

<span class="c1"># ['Apple Inc', 'Coca-Cola', 'Walmart', 'Amazon.com']
# append a list to the list will produce a nested list.
# ['Apple Inc', 'Coca-Cola', 'Walmart', 'Amazon.com', ['DowDuPont', 'Alphabet Inc']]
# to get a flat list, use extend
</span><span class="p">[</span><span class="s">'Apple Inc'</span><span class="p">,</span> <span class="s">'Coca-Cola'</span><span class="p">,</span> <span class="s">'Walmart'</span><span class="p">,</span> <span class="s">'Amazon.com'</span><span class="p">,</span> <span class="s">'DowDuPont'</span><span class="p">,</span> <span class="s">'Alphabet Inc'</span><span class="p">]</span>

</code></pre></div></div>

<p>####
<strong>index()</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># get max price
</span><span class="n">max_price</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>

<span class="c1"># Identify index of max price
</span><span class="n">max_index</span> <span class="o">=</span> <span class="n">prices</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">max_price</span><span class="p">)</span>

<span class="c1"># Identify the name of the company with max price
</span><span class="n">max_stock_name</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">max_index</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s">'The largest stock price is associated with '</span> <span class="o">+</span> <span class="n">max_stock_name</span> <span class="o">+</span> <span class="s">' and is $'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">max_price</span><span class="p">)</span> <span class="o">+</span> <span class="s">'.'</span><span class="p">)</span>

<span class="c1"># The largest stock price is associated with Amazon.com and is $1705.54.
</span>
</code></pre></div></div>

<hr />

<h1 id="3-numpy-arrays"><strong>3. Numpy arrays</strong></h1>
<hr />

<p>####
<strong>step slicing</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Subset every third element
</span><span class="k">print</span><span class="p">(</span><span class="n">prices_array</span><span class="p">)</span>
<span class="c1"># [170.12  93.29  55.28 145.3  171.81  59.5  100.5 ]
</span>
<span class="n">prices_subset_3</span> <span class="o">=</span> <span class="n">prices_array</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">prices_subset_3</span><span class="p">)</span>
<span class="c1"># [170.12 145.3  100.5 ]
</span>
</code></pre></div></div>

<p>####
<strong>2D array</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Create a 2D array of prices and earnings
</span><span class="n">stock_array</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">([</span><span class="n">prices</span><span class="p">,</span> <span class="n">earnings</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">stock_array</span><span class="p">)</span>
<span class="c1"># [[170.12  93.29  55.28 145.3  171.81  59.5  100.5 ]
#  [  9.2    5.31   2.41   5.91  15.42   2.51   6.79]]
</span>
<span class="c1"># Print the shape of stock_array
</span><span class="k">print</span><span class="p">(</span><span class="n">stock_array</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="c1"># (2, 7)
</span>
<span class="c1"># Print the size of stock_array
</span><span class="k">print</span><span class="p">(</span><span class="n">stock_array</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="c1"># 14
</span>
</code></pre></div></div>

<p>####
<strong>np.transpose()</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Transpose stock_array
</span><span class="n">stock_array_transposed</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">stock_array</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">stock_array_transposed</span><span class="p">)</span>
<span class="c1"># [[170.12   9.2 ]
</span> <span class="p">[</span> <span class="mf">93.29</span>   <span class="mf">5.31</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">55.28</span>   <span class="mf">2.41</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">145.3</span>    <span class="mf">5.91</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">171.81</span>  <span class="mf">15.42</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">59.5</span>    <span class="mf">2.51</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">100.5</span>    <span class="mf">6.79</span><span class="p">]]</span>

<span class="c1"># Print the shape of stock_array
</span><span class="k">print</span><span class="p">(</span><span class="n">stock_array_transposed</span><span class="p">.</span><span class="n">shape</span><span class="p">)</span>
<span class="c1"># (7, 2)
</span>
<span class="c1"># Print the size of stock_array
</span><span class="k">print</span><span class="p">(</span><span class="n">stock_array_transposed</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="c1"># 14
</span>
</code></pre></div></div>

<p>####
<strong>Subsetting 2D arrays</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># original array
</span><span class="n">stock_array_transposed</span>
<span class="p">[[</span><span class="mf">170.12</span>   <span class="mf">9.2</span> <span class="p">]</span>
 <span class="p">[</span> <span class="mf">93.29</span>   <span class="mf">5.31</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">55.28</span>   <span class="mf">2.41</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">145.3</span>    <span class="mf">5.91</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">171.81</span>  <span class="mf">15.42</span><span class="p">]</span>
 <span class="p">[</span> <span class="mf">59.5</span>    <span class="mf">2.51</span><span class="p">]</span>
 <span class="p">[</span><span class="mf">100.5</span>    <span class="mf">6.79</span><span class="p">]]</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Subset all rows and column
</span><span class="n">array</span><span class="p">[:,</span> <span class="n">column_index</span><span class="p">]</span>

<span class="c1"># Subset the first (0th) columns
</span><span class="n">prices</span> <span class="o">=</span> <span class="n">stock_array_transposed</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>

<span class="c1"># [170.12  93.29  55.28 145.3  171.81  59.5  100.5 ]
</span>
<span class="c1">##########################################
# Subset all columns and row
</span><span class="n">array</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span> <span class="p">:]</span>

<span class="c1"># Subset the first 3 rows (0,1,2)
</span><span class="n">stock_array_transposed</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">170.12</span><span class="p">,</span>   <span class="mf">9.2</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">93.29</span><span class="p">,</span>   <span class="mf">5.31</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">55.28</span><span class="p">,</span>   <span class="mf">2.41</span><span class="p">]])</span>

<span class="c1">##########################################
# Subset single value
</span><span class="n">array</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">column_index</span><span class="p">]</span>

<span class="c1"># Subset the 3rd row, 1st column
</span><span class="n">stock_array_transposed</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="mf">55.28</span>


</code></pre></div></div>

<p>####
 np.mean &amp; np.std()</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Calculate mean and standard deviation
</span><span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
<span class="n">np</span><span class="p">.</span><span class="n">std</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>

</code></pre></div></div>

<p>####
<strong>np.arange()</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Create and print company IDs
</span><span class="n">company_ids</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">company_ids</span><span class="p">)</span>
<span class="c1"># [1 2 3 4 5 6 7]
</span>
<span class="c1"># Use array slicing to select specific company IDs
</span><span class="n">company_ids_odd</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">company_ids_odd</span><span class="p">)</span>
<span class="c1"># [1 3 5 7]
</span>
</code></pre></div></div>

<p>####
<strong>boolean slice</strong>
 I: numeric</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Find the mean
</span><span class="n">price_mean</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>

<span class="c1"># Create boolean array
</span><span class="n">boolean_array</span> <span class="o">=</span> <span class="p">(</span><span class="n">prices</span> <span class="o">&gt;</span> <span class="n">price_mean</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">boolean_array</span><span class="p">)</span>
<span class="p">[</span> <span class="bp">True</span> <span class="bp">False</span> <span class="bp">False</span>  <span class="bp">True</span>  <span class="bp">True</span> <span class="bp">False</span> <span class="bp">False</span><span class="p">]</span>

<span class="c1"># Select prices that are greater than average
</span><span class="n">above_avg</span> <span class="o">=</span> <span class="n">prices</span><span class="p">[</span><span class="n">boolean_array</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">above_avg</span><span class="p">)</span>
<span class="p">[</span><span class="mf">170.12</span> <span class="mf">145.3</span>  <span class="mf">171.81</span><span class="p">]</span>


</code></pre></div></div>

<p>####
<strong>boolean slice</strong>
 II: string</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
sectors
array(['Information Technology', 'Health Care', 'Health Care',
       'Information Technologies', 'Health Care'], dtype='&lt;U24')

names
array(['Apple Inc', 'Abbvie Inc', 'Abbott Laboratories',
       'Accenture Technologies', 'Allergan Plc'], dtype='&lt;U22')

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Create boolean array
</span><span class="n">boolean_array</span> <span class="o">=</span> <span class="p">(</span><span class="n">sectors</span> <span class="o">==</span> <span class="s">'Health Care'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">boolean_array</span><span class="p">)</span>
<span class="c1"># [False  True  True False  True]
</span>
<span class="c1"># Print only health care companies
</span><span class="n">health_care</span> <span class="o">=</span> <span class="n">names</span><span class="p">[</span><span class="n">boolean_array</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">health_care</span><span class="p">)</span>
<span class="c1"># ['Abbvie Inc' 'Abbott Laboratories' 'Allergan Plc']
</span>
</code></pre></div></div>

<hr />

<ol>
  <li>
    <h2 id="visualization">Visualization</h2>
  </li>
</ol>

<p>####
<strong>First plot (line plot)</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Import matplotlib.pyplot with the alias plt
</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Plot the price of stock over time
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"red"</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">"--"</span><span class="p">)</span>

<span class="c1"># Display the plot
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture3-13.png?w=637" alt="Desktop View" /></p>

<p>####
<strong>Add label and title</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
import matplotlib.pyplot as plt

# Plot price as a function of time
plt.plot(days, prices, color="red", linestyle="--")

# Add x and y labels
plt.xlabel('Days')
plt.ylabel('Prices, $')

# Add plot title
plt.title('Company Stock Prices Over Time')

# Show plot
plt.show()

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture4-13.png?w=641" alt="Desktop View" /></p>

<p>####
<strong>Multi graphs</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Plot two lines of varying colors
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">prices1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">prices2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'green'</span><span class="p">)</span>

<span class="c1"># Add labels
</span><span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Days'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Prices, $'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Stock Prices Over Time'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture5-16.png?w=646" alt="Desktop View" /></p>

<p>####
<strong>Scatter plot</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Import pyplot as plt
</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># Plot price as a function of time
</span><span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">days</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'green'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># Show plot
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture6-13.png?w=635" alt="Desktop View" /></p>

<p>####
<strong>histogram</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Plot histogram
</span><span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">prices</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Display plot
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture7-10.png?w=635" alt="Desktop View" /></p>

<p>You can see that these prices are not normally distributed, they are skewed to the left!</p>

<p>####
<strong>Comparing two histograms</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Plot histogram of stocks_A
</span><span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">stock_A</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>

<span class="c1"># Plot histogram of stocks_B
</span><span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">stock_B</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>

<span class="c1"># Display plot
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture8-8.png?w=644" alt="Desktop View" /></p>

<p>####
<strong>Add legend</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1"># Plot stock_A and stock_B histograms
</span><span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">stock_A</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Stock A'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">stock_B</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Stock B'</span><span class="p">)</span>

<span class="c1"># Add the legend
</span><span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Display the plot
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<p><img src="/blog/assets/datacamp/intro-to-python-for-finance/capture9-7.png?w=638" alt="Desktop View" /></p>

<hr />

<h1 id="5-sp-100-case-study"><strong>5. S&amp;P 100 Case Study</strong></h1>
<hr />

<p>Nothing special here.</p>

<p>The End.</p>

<p>Thank you for reading.</p>

